{
  "frontend/src/App.tsx": "Main application component with authentication state, profile setup modal, development-only runtime guard for UI interactivity (no production polling), view state management including 'localUpdates' view with navigation callback passed to LocalUpdatesPage, and no localStorage cleanup on mount to preserve wallpaper persistence.",
  "frontend/src/hooks/useQueries.ts": "Custom React Query hooks for all backend operations including profile, story, comment, and admin moderation queries with proper loading/error states, cache invalidation, graceful authorization error handling, and new useUpdateStory mutation hook for editing stories with proper error mapping and cache invalidation.",
  "frontend/src/components/Header.tsx": "Application header with StoryMap branding, theme toggle, authentication controls, always-visible Local Updates button accessible to all users (logged in or out), and user dropdown menu with Profile, Home, and conditional Admin Dashboard navigation for authenticated users.",
  "frontend/src/components/Footer.tsx": "Simple footer with attribution to caffeine.ai.",
  "frontend/src/components/ProfileSetupModal.tsx": "Modal dialog for first-time users to set up their username after authentication, with explicit pointer-events-auto class and onInteractOutside prevention to ensure input remains focusable.",
  "frontend/src/pages/HomePage.tsx": "Main page component with backend-powered filtering, unified location-based filtering with priority for feed-teleport > map-selection > user-location, integrated sort control, map selection behavior, and a Teleport to Location button in the Feed view that randomly selects from available story locations and filters the feed around that location.",
  "frontend/src/components/StoryFeed.tsx": "Grid layout displaying story cards with loading states and conditional empty state messaging that shows \"No story yet, be the one to write it\" when location filtering is active and yields zero results, passing click handlers to open story detail dialogs.",
  "frontend/src/components/StoryCard.tsx": "Individual story card component displaying story metadata including view count, fully functional Like/Pin/Comment/Share buttons with optimistic UI updates, authentication awareness, and location display showing distance and reverse-geocoded place name using the pattern \"<distance> away from <place name>\".",
  "frontend/src/components/MapView.tsx": "Fully interactive Leaflet map component with explicit error state handling for load failures, immediate initialization after Leaflet loads (without waiting for MarkerCluster), proper lifecycle management with cleanup, enhanced centering behavior for location picker use cases with delayed setView for reliability, and search result click handler that invokes onMapBackgroundClick to set the selected location for teleporting.",
  "frontend/src/components/FilterBar.tsx": "Category filter buttons without search input, allowing users to filter stories by category (All, Love, Confession, Funny, Random, Other).",
  "frontend/src/components/CreateStoryFAB.tsx": "Floating action button for creating stories that supports async click handlers to enable user-gesture location requests.",
  "frontend/src/components/CreateStoryDialog.tsx": "Story creation dialog with map-based location picker that properly closes picker after confirm to avoid stale state, ensures selected location is preserved through the flow, and correctly uses locationCopy.description and diagnostics.userFriendlyDetail properties with AlertCircle icon imported.",
  "frontend/src/components/StoryDetailDialog.tsx": "Full story detail dialog with view count tracking, role-aware delete button, native scroll container, and author-only edit mode featuring an inline form with pre-filled fields (title/content/category/isAnonymous/image), cancel/save actions, and seamless in-place refresh after successful update without requiring full page reload.",
  "frontend/src/lib/categories.ts": "Helper functions for category labels and color styling using Category enum as keys.",
  "frontend/src/lib/utils.ts": "Utility functions including Haversine distance calculation, distance formatting helpers (formatDistanceValue, formatDistance), and formatLocationWithDistance that combines distance and place name into a single display string.",
  "frontend/src/index.css": "Global styles with OKLCH color system and dialog pointer-events safeguards for proper UI interactivity.",
  "frontend/src/lib/locationFilter.ts": "Utility module providing proximity radius constant and helper function to check if a story is within radius of selected coordinates, now with integrated opt-in debug logging for filter decisions.",
  "frontend/src/hooks/useGeolocationPermission.ts": "Custom React hook managing geolocation permission state with enhanced PERMISSION_DENIED handling that checks Permissions Policy blocks, re-queries Permissions API to avoid hard-setting 'denied' state, and provides English-only diagnostic details without stack traces.",
  "frontend/src/lib/locationPermissionCopy.ts": "Centralized English copy module for all geolocation permission states with updated denied state message emphasizing map picking as the primary method when location access is unavailable.",
  "frontend/index.html": "HTML entry point with updated Permissions-Policy meta tag allowing geolocation for same-origin and common IC gateway domains (ic0.app, icp0.io, internetcomputer.org) to prevent policy-based blocking.",
  "frontend/src/components/DistanceKmSlider.tsx": "Keyboard-accessible distance slider component with native range input that remains always draggable, displaying current km value, min/max labels, and support for inactive visual state (muted styling without disabling interaction) with optional helper text for adjusting location-based story filtering radius.",
  "frontend/src/lib/distanceFilterDebug.ts": "Opt-in debug helper module for distance filtering that logs filter center source, coordinates, radius, and per-story inclusion/exclusion decisions to console when enabled via localStorage flag.",
  "frontend/src/lib/storySorting.ts": "Client-side story sorting utility with functions to sort stories by newest, nearest, most viewed, most liked, or most pinned (with deterministic tie-breaker by timestamp), and convert frontend sort options to backend SortOption type.",
  "frontend/src/components/SortControl.tsx": "Reusable sort control component with Select UI displaying five sorting options (Newest, Nearest, Most viewed, Most liked, Most pinned) and disabling Nearest when location is unavailable.",
  "frontend/src/pages/ProfilePage.tsx": "Profile page component with three tabs (Posted/Likes/Pins) displaying user's stories using StoryCard grid layout, loading skeletons, error handling with retry, and empty state messages for each section.",
  "frontend/src/hooks/useDrafts.ts": "React Query hooks for draft operations (list, get, create, update, delete, publish) with authentication checks, toast notifications, and query invalidation for drafts and story feeds.",
  "frontend/src/lib/wallpaperValidation.ts": "Validation helpers for wallpaper file selection including max size (10MB), allowed image types (JPEG, PNG, WebP, GIF), and standardized English error messages with strongly-typed validation result shape and named exports.",
  "frontend/src/hooks/useWallpaper.ts": "Custom React hook managing wallpaper state with localStorage persistence using data URLs instead of blob URLs for reload-stable persistence, with apply/remove actions and graceful error handling.",
  "frontend/src/components/WallpaperSettingsDialog.tsx": "Dialog component for wallpaper settings with file picker, validation feedback via toast notifications, preview display, async apply/remove actions with loading states, and clear user guidance on supported formats and size limits.",
  "frontend/src/pages/AdminModerationPage.tsx": "Admin-only moderation dashboard page that checks admin authorization, displays access-denied message for non-admins, lists reports with story ID/reason/timestamp, fetches story data via useGetStoryById for the StoryDetailDialog, and provides actions to view reported stories, dismiss reports, and delete stories with proper loading states and English user-facing text.",
  "frontend/src/hooks/useInternetIdentity.ts": "Internet Identity authentication hook using import.meta.env for Vite-compatible environment variable access with safe fallback to default II URL.",
  "frontend/src/hooks/useActor.ts": "Backend actor initialization hook with safe access control initialization that gracefully handles missing methods and uses proper error handling.",
  "frontend/src/env.d.ts": "TypeScript environment type definitions for Vite import.meta.env variables including VITE_II_URL.",
  "frontend/src/lib/reverseGeocode.ts": "Client-side reverse geocoding utility using OpenStreetMap Nominatim API with in-memory and localStorage caching, coordinate rounding for cache key stability, and AbortController support for request cancellation.",
  "frontend/src/hooks/useReverseGeocodedPlace.ts": "React hook that wraps reverseGeocode to provide placeName, isLoading, and error states for a given coordinate, with proper cleanup on unmount and coordinate changes.",
  "frontend/src/hooks/useLocalUpdates.ts": "Custom React Query hooks for all Local Updates backend operations including create, fetch by proximity/category, increment view count, thumbs-up with authentication checks and duplicate-like error handling, and delete with proper loading/error states, cache invalidation, and toast notifications.",
  "frontend/src/lib/localUpdates.ts": "Helper functions for Local Updates including category label/color/icon mapping, radius formatting, relevance computation with distance calculation, and isWithinRadius check using Haversine formula.",
  "frontend/src/hooks/useForegroundLocationTracking.ts": "Custom React hook for foreground location tracking using watchPosition with fallback to periodic getCurrentPosition polling, proper cleanup on unmount, manual refresh capability, and robust error handling.",
  "frontend/src/hooks/useLocalUpdateMuting.ts": "Custom React hook managing localStorage-backed muting preferences for Local Update categories with toggle functionality and persistent state across page reloads.",
  "frontend/src/hooks/useLocalUpdateNotifications.ts": "Custom React hook that watches location and active updates to trigger system notifications (with in-app toast fallback) when user enters update radius, with session-based deduplication and muted category filtering using Record<LocalCategory, boolean> type for proper type compatibility.",
  "frontend/src/components/local-updates/CreateLocalUpdateDialog.tsx": "Dialog form component for creating Local Updates with content input, visible examples section, category selection, radius slider, optional image upload with preview/remove functionality, location requirement validation, and proper mutation integration for immediate UI refresh after posting.",
  "frontend/src/components/local-updates/LocalUpdatesFAB.tsx": "Floating action button component with distinctive orange-to-red gradient styling for opening the Local Update creation dialog from the main app experience.",
  "frontend/src/components/local-updates/LocalUpdatesList.tsx": "List/feed component rendering Local Updates with optional thumbnail images, relevance indicators, category badges, distance display, view count with Eye icon, thumbs-up button with count that prevents event propagation to avoid opening detail dialog, time ago formatting, and click handlers to open detail dialogs.",
  "frontend/src/components/local-updates/LocalUpdateDetailDialog.tsx": "Details dialog component for Local Updates showing optional image, content, category, timestamp, radius, distance, view count with Eye icon, thumbs-up count and action button, relevance indicator, automatic view count increment on open, and delete action for authors/admins with confirmation dialog.",
  "frontend/src/components/local-updates/LocalUpdateSettingsDialog.tsx": "Settings dialog component allowing users to toggle mute/unmute for each Local Update category with persistent localStorage-backed preferences and clear visual indicators.",
  "frontend/src/components/local-updates/LocalUpdatesMapView.tsx": "Leaflet-based map component for Local Updates using shared loader to prevent resource removal issues and proper resize handling.",
  "frontend/src/pages/LocalUpdatesPage.tsx": "Local Updates page component with foreground location tracking, proximity-based update fetching, list/map view toggle, category muting integration, notification system, location permission handling, settings access, authentication-gated posting controls (FAB visible only when logged in), and a Back button in the sidebar header that navigates to home via onBackHome callback prop.",
  "frontend/src/components/LocationPickerDialog.tsx": "Reusable dialog component providing interactive map-based location picker with deterministic centering (initialLocation > geolocation > fallback), conditional MapView rendering only when dialog is open to force clean init/teardown, and proper state management for selected location across dialog open/close cycles.",
  "frontend/src/lib/leafletLoader.ts": "Shared Leaflet and MarkerCluster loader with reference counting, promise caching to handle in-flight loads consistently, and graceful error handling that allows MarkerCluster failures to resolve without blocking base Leaflet functionality.",
  "frontend/src/hooks/useLeafletMapResize.ts": "React hook that reliably calls Leaflet map.invalidateSize() when container becomes visible or map instance changes, with multiple delayed invalidations (150ms and 350ms) to handle dialog animation scenarios and prevent blank/gray maps.",
  "frontend/src/lib/env.ts": "Typed helper module for reading Vite environment variables (VITE_ prefixed) in a build-safe way with optional fallback support.",
  "frontend/src/main.tsx": "Application entry point with QueryClient, InternetIdentityProvider, and non-blocking startup configuration validation.",
  "frontend/src/lib/startupValidation.ts": "Console-only startup validation utility that checks for critical build/runtime configuration (e.g., Internet Identity provider env) without blocking app startup."
}