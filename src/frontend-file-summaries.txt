{
  "frontend/src/App.tsx": "Main application component with authentication state, profile setup modal, runtime guard for UI interactivity, view state management including new 'admin' view that renders AdminModerationPage with proper authentication guards, and localStorage cleanup to remove any previously persisted wallpaper on mount.",
  "frontend/src/hooks/useQueries.ts": "Custom React Query hooks for all backend operations including profile, story, comment, and admin moderation queries with proper loading/error states, cache invalidation, graceful authorization error handling, and new useUpdateStory mutation hook for editing stories with proper error mapping and cache invalidation.",
  "frontend/src/components/Header.tsx": "Application header with StoryMap branding, theme toggle, authentication controls, and user dropdown menu with Profile, Home, and conditional Admin Dashboard navigation (visible only when useIsCallerAdmin returns true) for authenticated users.",
  "frontend/src/components/Footer.tsx": "Simple footer with attribution to caffeine.ai.",
  "frontend/src/components/ProfileSetupModal.tsx": "Modal dialog for first-time users to set up their username after authentication, with explicit pointer-events-auto class and onInteractOutside prevention to ensure input remains focusable.",
  "frontend/src/pages/HomePage.tsx": "Main page component with backend-powered filtering, unified location-based filtering, integrated sort control, and map selection behavior that passes mapSelectedLocation to MapView as a controlled prop for persistent pin display.",
  "frontend/src/components/StoryFeed.tsx": "Grid layout displaying story cards with loading states and conditional empty state messaging that shows \"No story yet, be the one to write it\" when location filtering is active and yields zero results, passing click handlers to open story detail dialogs.",
  "frontend/src/components/StoryCard.tsx": "Individual story card component displaying story metadata including view count, fully functional Like/Pin/Comment/Share buttons with optimistic UI updates, authentication awareness, and location display showing distance and reverse-geocoded place name using the pattern \"<distance> away from <place name>\".",
  "frontend/src/components/MapView.tsx": "Fully interactive Leaflet map component with enhanced location search featuring monotonic request ID tracking to prevent loading state race conditions, subtle inline loading indicator (animated spinner icon and progress bar) during geocoding, and proper loading state cleanup for all request outcomes (success, error, abort, overlap).",
  "frontend/src/components/FilterBar.tsx": "Category filter buttons without search input, allowing users to filter stories by category (All, Love, Confession, Funny, Random, Other).",
  "frontend/src/components/CreateStoryFAB.tsx": "Floating action button for creating stories that supports async click handlers to enable user-gesture location requests.",
  "frontend/src/components/CreateStoryDialog.tsx": "Story creation dialog with comprehensive draft support including save/load/delete/publish actions, draft list UI, location handling, optional image upload, and authentication-aware controls with proper state management.",
  "frontend/src/components/StoryDetailDialog.tsx": "Full story detail dialog with view count tracking, role-aware delete button, native scroll container, and author-only edit mode featuring an inline form with pre-filled fields (title/content/category/isAnonymous/image), cancel/save actions, and seamless in-place refresh after successful update without requiring full page reload.",
  "frontend/src/lib/categories.ts": "Helper functions for category labels and color styling using Category enum as keys.",
  "frontend/src/lib/utils.ts": "Utility functions including Haversine distance calculation, distance formatting helpers (formatDistanceValue, formatDistance), and formatLocationWithDistance that combines distance and place name into a single display string.",
  "frontend/src/index.css": "Global styles with OKLCH color system and dialog pointer-events safeguards for proper UI interactivity.",
  "frontend/src/lib/locationFilter.ts": "Utility module providing proximity radius constant and helper function to check if a story is within radius of selected coordinates, now with integrated opt-in debug logging for filter decisions.",
  "frontend/src/hooks/useGeolocationPermission.ts": "Custom React hook managing geolocation permission state with enhanced PERMISSION_DENIED handling that checks Permissions Policy blocks, re-queries Permissions API to avoid hard-setting 'denied' state, and provides English-only diagnostic details without stack traces.",
  "frontend/src/lib/locationPermissionCopy.ts": "Centralized English copy module for all geolocation permission states with consistent type structure where all states include secondaryAction property (set to undefined when not applicable).",
  "frontend/index.html": "HTML entry point with updated Permissions-Policy meta tag allowing geolocation for same-origin and common IC gateway domains (ic0.app, icp0.io, internetcomputer.org) to prevent policy-based blocking.",
  "frontend/src/components/DistanceKmSlider.tsx": "Keyboard-accessible distance slider component with native range input that remains always draggable, displaying current km value, min/max labels, and support for inactive visual state (muted styling without disabling interaction) with optional helper text for adjusting location-based story filtering radius.",
  "frontend/src/lib/distanceFilterDebug.ts": "Opt-in debug helper module for distance filtering that logs filter center source, coordinates, radius, and per-story inclusion/exclusion decisions to console when enabled via localStorage flag.",
  "frontend/src/lib/storySorting.ts": "Client-side story sorting utility with functions to sort stories by newest, nearest, most viewed, most liked, or most pinned (with deterministic tie-breaker by timestamp), and convert frontend sort options to backend SortOption type.",
  "frontend/src/components/SortControl.tsx": "Reusable sort control component with Select UI displaying five sorting options (Newest, Nearest, Most viewed, Most liked, Most pinned) and disabling Nearest when location is unavailable.",
  "frontend/src/pages/ProfilePage.tsx": "Profile page component with three tabs (Posted/Likes/Pins) displaying user's stories using StoryCard grid layout, loading skeletons, error handling with retry, and empty state messages for each section.",
  "frontend/src/hooks/useDrafts.ts": "React Query hooks for draft operations (list, get, create, update, delete, publish) with authentication checks, toast notifications, and query invalidation for drafts and story feeds.",
  "frontend/src/lib/wallpaperValidation.ts": "Validation helpers for wallpaper file selection including max size (10MB), allowed image types (JPEG, PNG, WebP, GIF), and standardized English error messages.",
  "frontend/src/hooks/useWallpaper.ts": "Custom React hook managing wallpaper state with localStorage persistence, object URL cleanup, and apply/remove actions that handle both immediate display and long-term storage.",
  "frontend/src/components/WallpaperSettingsDialog.tsx": "Dialog component for wallpaper settings with file picker, validation feedback via toast notifications, apply/remove actions, and clear user guidance on supported formats and size limits.",
  "frontend/src/pages/AdminModerationPage.tsx": "Admin-only moderation dashboard page that checks admin authorization, displays access-denied message for non-admins, lists reports with story ID/reason/timestamp, fetches story data via useGetStoryById for the StoryDetailDialog, and provides actions to view reported stories, dismiss reports, and delete stories with proper loading states and English user-facing text.",
  "frontend/src/hooks/useInternetIdentity.ts": "Internet Identity authentication hook using import.meta.env for Vite-compatible environment variable access with safe fallback to default II URL.",
  "frontend/src/hooks/useActor.ts": "Backend actor initialization hook with safe access control initialization that gracefully handles missing methods and uses proper error handling.",
  "frontend/src/env.d.ts": "TypeScript environment type definitions for Vite import.meta.env variables including VITE_II_URL.",
  "frontend/src/lib/reverseGeocode.ts": "Client-side reverse geocoding utility using OpenStreetMap Nominatim API with in-memory and localStorage caching, coordinate rounding for cache key stability, and AbortController support for request cancellation.",
  "frontend/src/hooks/useReverseGeocodedPlace.ts": "React hook that wraps reverseGeocode to provide placeName, isLoading, and error states for a given coordinate, with proper cleanup on unmount and coordinate changes."
}